dsr1-fp4-mi355x-sglang:
  image: lmsysorg/sglang:v0.5.6.post1-rocm700-mi35x
  model: amd/DeepSeek-R1-0528-MXFP4-Preview
  model-prefix: dsr1
  runner: mi355x
  precision: fp4
  framework: sglang
  multinode: false
  seq-len-configs:
  - isl: 1024
    osl: 1024
    search-space:
    - { tp: 4, conc-start: 4, conc-end: 64 }
    - { tp: 8, conc-start: 4, conc-end: 64 }
  - isl: 1024
    osl: 8192
    search-space:
    - { tp: 8, conc-start: 4, conc-end: 64 }
  - isl: 8192
    osl: 1024
    search-space:
    - { tp: 8, conc-start: 4, conc-end: 64 }

dsr1-fp8-mi300x-sglang:
  image: rocm/7.0:rocm7.0_ubuntu_22.04_sgl-dev-v0.5.2-rocm7.0-mi30x-20250915
  model: deepseek-ai/DeepSeek-R1-0528
  model-prefix: dsr1
  runner: mi300x
  precision: fp8
  framework: sglang
  multinode: false
  seq-len-configs:
  - isl: 1024
    osl: 1024
    search-space:
    - { tp: 8, conc-start: 4, conc-end: 64 }
  - isl: 1024
    osl: 8192
    search-space:
    - { tp: 8, conc-start: 4, conc-end: 64 }
  - isl: 8192
    osl: 1024
    search-space:
    - { tp: 8, conc-start: 4, conc-end: 64 }

dsr1-fp8-mi325x-sglang:
  image: rocm/7.0:rocm7.0_ubuntu_22.04_sgl-dev-v0.5.2-rocm7.0-mi30x-20250915
  model: deepseek-ai/DeepSeek-R1-0528
  model-prefix: dsr1
  runner: mi325x
  precision: fp8
  framework: sglang
  multinode: false
  seq-len-configs:
  - isl: 1024
    osl: 1024
    search-space:
    - { tp: 8, conc-start: 4, conc-end: 64 }
  - isl: 1024
    osl: 8192
    search-space:
    - { tp: 8, conc-start: 4, conc-end: 64 }
  - isl: 8192
    osl: 1024
    search-space:
    - { tp: 8, conc-start: 4, conc-end: 64 }

dsr1-fp8-mi355x-sglang:
  image: rocm/7.0:rocm7.0_ubuntu_22.04_sgl-dev-v0.5.2-rocm7.0-mi35x-20250915
  model: deepseek-ai/DeepSeek-R1-0528
  model-prefix: dsr1
  runner: mi355x
  precision: fp8
  framework: sglang
  multinode: false
  seq-len-configs:
  - isl: 1024
    osl: 1024
    search-space:
    - { tp: 8, conc-start: 4, conc-end: 64 }
  - isl: 1024
    osl: 8192
    search-space:
    - { tp: 8, conc-start: 4, conc-end: 64 }
  - isl: 8192
    osl: 1024
    search-space:
    - { tp: 8, conc-start: 4, conc-end: 64 }

gptoss-fp4-mi300x-vllm:
  image: rocm/7.0:rocm7.0_ubuntu_22.04_vllm_0.10.1_instinct_20250927_rc1
  model: openai/gpt-oss-120b
  model-prefix: gptoss
  runner: mi300x
  precision: fp4
  framework: vllm
  multinode: false
  seq-len-configs:
  - isl: 1024
    osl: 1024
    search-space:
    - { tp: 1, conc-start: 64, conc-end: 64 }
    - { tp: 2, conc-start: 4, conc-end: 64 }
    - { tp: 4, conc-start: 4, conc-end: 64 }
    - { tp: 8, conc-start: 4, conc-end: 16 }
  - isl: 1024
    osl: 8192
    search-space:
    - { tp: 1, conc-start: 64, conc-end: 64 }
    - { tp: 2, conc-start: 4, conc-end: 64 }
    - { tp: 4, conc-start: 4, conc-end: 64 }
    - { tp: 8, conc-start: 4, conc-end: 16 }
  - isl: 8192
    osl: 1024
    search-space:
    - { tp: 1, conc-start: 4, conc-end: 64 }
    - { tp: 2, conc-start: 4, conc-end: 64 }
    - { tp: 4, conc-start: 4, conc-end: 64 }
    - { tp: 8, conc-start: 4, conc-end: 16 }

gptoss-fp4-mi325x-vllm:
  image: rocm/7.0:rocm7.0_ubuntu_22.04_vllm_0.10.1_instinct_20250927_rc1
  model: openai/gpt-oss-120b
  model-prefix: gptoss
  runner: mi325x
  precision: fp4
  framework: vllm
  multinode: false
  seq-len-configs:
  - isl: 1024
    osl: 1024
    search-space:
    - { tp: 1, conc-start: 4, conc-end: 64 }
    - { tp: 2, conc-start: 4, conc-end: 64 }
    - { tp: 4, conc-start: 4, conc-end: 64 }
    - { tp: 8, conc-start: 4, conc-end: 64 }
  - isl: 1024
    osl: 8192
    search-space:
    - { tp: 1, conc-start: 64, conc-end: 64 }
    - { tp: 2, conc-start: 4, conc-end: 64 }
    - { tp: 4, conc-start: 64, conc-end: 64 }
    - { tp: 8, conc-start: 4, conc-end: 64 }
  - isl: 8192
    osl: 1024
    search-space:
    - { tp: 1, conc-start: 4, conc-end: 64 }
    - { tp: 2, conc-start: 4, conc-end: 8 }
    - { tp: 4, conc-start: 4, conc-end: 8 }
    - { tp: 8, conc-start: 4, conc-end: 16 }

gptoss-fp4-mi355x-vllm:
  image: rocm/7.0:rocm7.0_ubuntu_22.04_vllm_0.10.1_instinct_20250927_rc1
  model: openai/gpt-oss-120b
  model-prefix: gptoss
  runner: mi355x
  precision: fp4
  framework: vllm
  multinode: false
  seq-len-configs:
  - isl: 1024
    osl: 1024
    search-space:
    - { tp: 1, conc-start: 4, conc-end: 128 }
    - { tp: 4, conc-start: 4, conc-end: 8 }
    - { tp: 8, conc-start: 4, conc-end: 16 }
  - isl: 1024
    osl: 8192
    search-space:
    - { tp: 1, conc-start: 4, conc-end: 128 }
    - { tp: 4, conc-start: 4, conc-end: 8 }
    - { tp: 8, conc-start: 4, conc-end: 16 }
  - isl: 8192
    osl: 1024
    search-space:
    - { tp: 1, conc-start: 4, conc-end: 128 }
    - { tp: 4, conc-start: 4, conc-end: 4 }
    - { tp: 8, conc-start: 4, conc-end: 8 }


dsr1-fp8-mi355x-sglang-standalone:
  image: rocm/sgl-dev:sglang-0.5.6.post1-rocm700-mi35x-mori-1218
  model: deepseek-ai/DeepSeek-R1-0528
  model-prefix: dsr1
  runner: mi355x-di
  precision: fp8
  framework: sglang-standalone
  multinode: true
  disagg: true
  seq-len-configs:
  - isl: 1024
    osl: 1024
    search-space:
    # "Top of curve" (1 prefill workers each at DEP8 and 2 decode workers at DEP8)
    - spec-decoding: "none"
      conc-list: [ 256, 512, 1024 ]
      prefill:
        num-worker: 1
        tp: 1
        ep: 8
        dp-attn: true
        additional-settings:
        - "PREFILL_NODES=1"
      decode:
        num-worker: 2
        tp: 1
        ep: 8
        dp-attn: true
        additional-settings:
        - "DECODE_NODES=2"

    # "Bottom of curve" (1 prefill worker at TEP8 and 2 decode workers at TEP8)
    - spec-decoding: "none"
      conc-list: [ 32, 64, 128 ]
      prefill:
        num-worker: 1
        tp: 8
        ep: 8
        dp-attn: false
        additional-settings:
        - "PREFILL_NODES=1"

      decode:
        num-worker: 2
        tp: 8
        ep: 8
        dp-attn: false
        additional-settings:
        - "DECODE_NODES=2"

  - isl: 1024
    osl: 8192
    search-space:
    # "Top of curve" (1 prefill workers each at DEP8 and 2 decode workers at DEP8)
    - spec-decoding: "none"
      conc-list: [ 256, 512, 1024 ]
      prefill:
        num-worker: 1
        tp: 1
        ep: 8
        dp-attn: true
        additional-settings:
        - "PREFILL_NODES=1"
      decode:
        num-worker: 2
        tp: 1
        ep: 8
        dp-attn: true
        additional-settings:
        - "DECODE_NODES=2"

    # "Bottom of curve" (1 prefill worker at TEP8 and 2 decode workers at TEP8)
    - spec-decoding: "none"
      conc-list: [ 32, 64, 128 ]
      prefill:
        num-worker: 1
        tp: 8
        ep: 8
        dp-attn: false
        additional-settings:
        - "PREFILL_NODES=1"

      decode:
        num-worker: 2
        tp: 8
        ep: 8
        dp-attn: false
        additional-settings:
        - "DECODE_NODES=2"

  - isl: 8192
    osl: 1024
    search-space:
    # "Top of curve" (1 prefill workers each at DEP8 and 2 decode workers at DEP8)
    - spec-decoding: "none"
      conc-list: [ 256, 512, 1024 ]
      prefill:
        num-worker: 1
        tp: 1
        ep: 8
        dp-attn: true
        additional-settings:
        - "PREFILL_NODES=1"
      decode:
        num-worker: 2
        tp: 1
        ep: 8
        dp-attn: true
        additional-settings:
        - "DECODE_NODES=2"

    # "Bottom of curve" (1 prefill worker at TEP8 and 2 decode workers at TEP8)
    - spec-decoding: "none"
      conc-list: [ 32, 64, 128 ]
      prefill:
        num-worker: 1
        tp: 8
        ep: 8
        dp-attn: false
        additional-settings:
        - "PREFILL_NODES=1"

      decode:
        num-worker: 2
        tp: 8
        ep: 8
        dp-attn: false
        additional-settings:
        - "DECODE_NODES=2"